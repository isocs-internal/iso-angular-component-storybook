(self.webpackChunkiso_angular_components_app=self.webpackChunkiso_angular_components_app||[]).push([[643],{"./projects/iso-angular-components/src/lib/directives/iac-stop-click-propagation.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>IacStopClickPropagationDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let IacStopClickPropagationDirective=class IacStopClickPropagationDirective{onClick(event){event.stopPropagation()}static{this.propDecorators={onClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["click",["$event"]]}]}}};IacStopClickPropagationDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[iacStopClickPropagation]",standalone:!0})],IacStopClickPropagationDirective)},"./projects/iso-angular-components/src/lib/directives/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ou:()=>IacNoSelectDirective,js:()=>iac_stop_click_propagation_directive.j});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let IacNoSelectDirective=class IacNoSelectDirective{constructor(){this.nativeElement=(0,core.inject)(core.ElementRef).nativeElement,this.nativeElement.onmousedown=()=>!1,this.nativeElement.onselectstart=()=>!1}static{this.ctorParameters=()=>[]}};IacNoSelectDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[iacNoSelect]",standalone:!0}),(0,tslib_es6.Sn)("design:paramtypes",[])],IacNoSelectDirective);var iac_stop_click_propagation_directive=__webpack_require__("./projects/iso-angular-components/src/lib/directives/iac-stop-click-propagation.directive.ts");let IacPreventDefaultDirective=class IacPreventDefaultDirective{onClick(event){event.preventDefault()}static{this.propDecorators={onClick:[{type:core.HostListener,args:["click",["$event"]]}]}}};IacPreventDefaultDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[iacPreventDefault]",standalone:!0})],IacPreventDefaultDirective)},"./projects/iso-angular-components/src/lib/iac-table/iac-table.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TryMe:()=>TryMe,__namedExportsOrder:()=>__namedExportsOrder,default:()=>iac_table_component_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var iac_table_componentngResource=__webpack_require__("./projects/iso-angular-components/src/lib/iac-table/iac-table.component.scss?ngResource"),iac_table_componentngResource_default=__webpack_require__.n(iac_table_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),ngx_bootstrap_pagination=__webpack_require__("./node_modules/ngx-bootstrap/pagination/fesm2022/ngx-bootstrap-pagination.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2022/ngx-translate-core.mjs"),directives=__webpack_require__("./projects/iso-angular-components/src/lib/directives/index.ts");let IacTableComponent=class IacTableComponent{get selection(){return this._selection}set selection(val){this._selection=val,this.initSelection()}set allChecked(val){this._allChecked=val,this.onAllCheckedChange()}constructor(cdr){this.cdr=cdr,this.currentPageChange=new core.EventEmitter,this.selectionChange=new core.EventEmitter,this.allCheckedChange=new core.EventEmitter,this.dropRow=new core.EventEmitter,this.values=[],this.itemsPerPage=30,this.showGlobalFilter=!0,this.currentPage=1,this.draggable=!1,this.selectable=!1,this.dataKey="",this.usePaginator=!1,this.tiny=!1,this.sortDirection=0,this.filteredValues=[],this.filterValue="",this.paginatedValues=[],this._selection=[],this._allChecked=!1,this.selectionKeys=new Map}ngOnInit(){this.filteredValues=this.values||[],this.draggable&&(this.usePaginator=!1),this.onAllCheckedChange(),this.applyPaginator(),this.cellTemplate=this.cellTemplate||this.defaultCell}ngOnChanges(changes){changes.values&&(this.filteredValues=this.values||[],this.applyPaginator())}initSelection(){if(this.selectable&&this.dataKey&&this.selection&&this.selection.length>0){const selectedKeys=this.selection.map((item=>item[this.dataKey]));this._selection=this.values.filter((item=>selectedKeys.includes(item[this.dataKey]))),this.selectionKeys=new Map,this._selection.forEach((item=>{this.selectionKeys.set(item[this.dataKey],!0)}))}else this._selection=[],this.selectionKeys=new Map}onAllCheckedChange(){this._allChecked?(this._selection=this.filteredValues.slice(),this.selectionKeys=new Map,this._selection.forEach((item=>{this.selectionKeys.set(item[this.dataKey],!0)}))):(this._selection=[],this.selectionKeys=new Map),this.allCheckedChange.emit(this._allChecked),this.selectionChange.emit(this._selection)}onSelectionChange(rowData){const index=this._selection.findIndex((item=>item[this.dataKey]===rowData[this.dataKey]));index>-1?(this._selection.splice(index,1),this.selectionKeys.delete(rowData[this.dataKey])):(this._selection.push(rowData),this.selectionKeys.set(rowData[this.dataKey],!0)),this.selectionChange.emit(this._selection)}onPageChange(){this.applyPaginator(),this.currentPageChange.emit(this.currentPage)}applyPaginator(){if(this.usePaginator){const startingIndex=(this.currentPage-1)*this.itemsPerPage;let endingIndex=startingIndex+this.itemsPerPage;endingIndex>this.filteredValues.length&&(endingIndex=this.filteredValues.length),this.filteredValues&&this.filteredValues.length>0?this.paginatedValues=this.filteredValues.slice(startingIndex,endingIndex):this.paginatedValues=[]}else this.paginatedValues=this.filteredValues}onGlobalFilter(){this.currentPage=1,this.usePaginator&&(this.usePaginator=!1,this.cdr.detectChanges(),this.usePaginator=!0,this.cdr.detectChanges()),this.filterValue&&""!==this.filterValue.trim()?this.filteredValues=this.values.filter((item=>this.cols.some((col=>{const value=this.getCellValue(item,col.field);return value&&value.toString().toLowerCase().includes(this.filterValue.toLowerCase())})))):this.filteredValues=this.values.slice(),this.applyPaginator()}getCellValue(item,colId){const recursiveFields=colId.split(".");let value=item;for(const field of recursiveFields)value=value[field];return value}onSortColumn(col){this.filterValue="",this.filteredValues=this.values.slice(),col.sortable&&(this.sortColumn=col.field,this.sortDirection++,this.sortDirection>1&&(this.sortDirection=-1),0===this.sortDirection?this.sortColumn="":this.filteredValues.sort(((a,b)=>{const valueA=this.getCellValue(a,col.field),valueB=this.getCellValue(b,col.field);return valueA<valueB?1===this.sortDirection?-1:1:valueA>valueB?1===this.sortDirection?1:-1:0}))),this.applyPaginator()}onDrop(event){(0,drag_drop.HD)(this.paginatedValues,event.previousIndex,event.currentIndex),this.dropRow.emit(this.paginatedValues)}static{this.ctorParameters=()=>[{type:core.ChangeDetectorRef}]}static{this.propDecorators={defaultCell:[{type:core.ViewChild,args:["defaultCell",{static:!0}]}],cell:[{type:core.ContentChild,args:["cell",{descendants:!1}]}],currentPageChange:[{type:core.Output}],selectionChange:[{type:core.Output}],allCheckedChange:[{type:core.Output}],dropRow:[{type:core.Output}],cellTemplate:[{type:core.Input}],cols:[{type:core.Input}],values:[{type:core.Input}],itemsPerPage:[{type:core.Input}],showGlobalFilter:[{type:core.Input}],currentPage:[{type:core.Input}],draggable:[{type:core.Input}],selectable:[{type:core.Input}],selection:[{type:core.Input}],allChecked:[{type:core.Input}],dataKey:[{type:core.Input}],usePaginator:[{type:core.Input}],tiny:[{type:core.Input}]}}};IacTableComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"iac-table",template:'@if (showGlobalFilter) {\r\n    <div class="d-flex justify-content-between align-items-center mb-2">\r\n        <div class="form-inline">\r\n            <label for="filterInput" class="sr-only">{{\'FILTER\' | translate}}</label>\r\n            <input id="filterInput" type="text" class="form-control form-control-sm" [placeholder]="(\'FILTER\' | translate) + \'...\'" [(ngModel)]="filterValue" (input)="onGlobalFilter()">\r\n        </div>\r\n    </div>\r\n}\r\n<div class="table-container">\r\n    <table class="table iso-table" [ngClass]="{\'tiny\': tiny}">\r\n        <thead>\r\n        <tr>\r\n            <th *ngIf="selectable">\r\n                <input type="checkbox" [(ngModel)]="_allChecked" (ngModelChange)="onAllCheckedChange()" />\r\n            </th>\r\n            <th *ngIf="draggable">&nbsp;</th>\r\n            <th *ngFor="let col of cols" scope="col" [ngClass]="{\'sortable\': col.sortable}" (click)="onSortColumn(col)" [style.width]="col.width">\r\n                <span class="pe-2">{{col.label}}</span>\r\n                <i *ngIf="col.sortable" class="fas" [ngClass]="{\'fa-sort-up\': sortColumn === col.field && sortDirection === 1, \'fa-sort-down\': sortColumn === col.field && sortDirection === -1}"></i>\r\n            </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody cdkDropList [cdkDropListDisabled]="!draggable" class="drop-list" (cdkDropListDropped)="onDrop($event)">\r\n            <tr *ngFor="let rowData of paginatedValues" cdkDrag cdkDragBoundary=".drop-list" cdkDragLockAxis="y" class="drag-box" [ngClass]="{\'drag-handle\': draggable}">\r\n                <td *ngIf="selectable">\r\n                    <input type="checkbox" [ngModel]="selectionKeys.has(rowData[dataKey])" (ngModelChange)="onSelectionChange(rowData)" />\r\n                </td>\r\n                <td *ngIf="draggable" iacNoSelect class="drag-icon-container">\r\n                    <i class="link-color fas fa-arrows-alt-v"></i>\r\n                </td>\r\n                <td [attr.colspan]="cols.length" class="drag-msg">\r\n                    {{\'DRAG_DROP_TO\' | translate}}\r\n                </td>\r\n                <td *ngFor="let col of cols"\r\n                    [style.color]="col.color ? col.color({field: col.field, rowData: rowData}) : \'inherit\'"\r\n                    [style.background-color]="col.bgColor ? col.bgColor({field: col.field, rowData: rowData}) : \'inherit\'"\r\n                    [ngClass]="{\'cursor-pointer\': col.command }"\r\n                    (click)="col.command ? col.command({field: col.field, rowData: rowData}) : \'\'">\r\n                    <ng-container *ngTemplateOutlet="cellTemplate || cell; context: {field: col.field, rowData, value: getCellValue(rowData, col.field)}"></ng-container>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n@if (usePaginator && values && values.length > itemsPerPage) {\r\n    <div class="paginator-container d-flex justify-content-center">\r\n        <pagination [totalItems]="filteredValues.length"\r\n                    [itemsPerPage]="itemsPerPage"\r\n                    [maxSize]="10"\r\n                    [(ngModel)]="currentPage"\r\n                    [rotate]="true"\r\n                    previousText="&lsaquo;"\r\n                    nextText="&rsaquo;"\r\n                    firstText="&laquo;"\r\n                    lastText="&raquo;"\r\n                    (ngModelChange)="onPageChange()">\r\n        </pagination>\r\n    </div>\r\n}\r\n\r\n<ng-template #defaultCell let-field="field" let-rowData="rowData" let-value="value">\r\n    {{ value }}\r\n</ng-template>\r\n',imports:[common.Sq,common.T3,ngx_bootstrap_pagination.eK,fesm2022_forms.YN,common.YU,common.bT,drag_drop.T1,drag_drop.O7,ngx_translate_core.D9,directives.Ou],changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,styles:[iac_table_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],IacTableComponent);const iac_table_component_stories={title:"Components/Table",component:IacTableComponent,decorators:[(0,dist.Iz)({imports:[common.MD,fesm2022_forms.YN]})],tags:["autodocs"]},TryMe={args:{cols:[{field:"id",label:"ID",sortable:!0,width:"80px"},{field:"name",label:"Name",sortable:!0},{field:"email",label:"Email",sortable:!0},{field:"status",label:"Status",sortable:!0,width:"120px"}],values:[{id:1,name:"John Doe",email:"john.doe@example.com",status:"Active"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",status:"Inactive"},{id:3,name:"Bob Johnson",email:"bob.johnson@example.com",status:"Active"},{id:4,name:"Alice Williams",email:"alice.williams@example.com",status:"Pending"},{id:5,name:"Charlie Brown",email:"charlie.brown@example.com",status:"Active"},{id:6,name:"Diana Ross",email:"diana.ross@example.com",status:"Inactive"},{id:7,name:"Edward Norton",email:"edward.norton@example.com",status:"Active"},{id:8,name:"Fiona Apple",email:"fiona.apple@example.com",status:"Pending"}],itemsPerPage:5,usePaginator:!0,showGlobalFilter:!0}},__namedExportsOrder=["TryMe"];TryMe.parameters={...TryMe.parameters,docs:{...TryMe.parameters?.docs,source:{originalSource:"{\n  args: {\n    cols: sampleColumns,\n    values: sampleData,\n    itemsPerPage: 5,\n    usePaginator: true,\n    showGlobalFilter: true\n  }\n}",...TryMe.parameters?.docs?.source}}}},"./projects/iso-angular-components/src/lib/iac-table/iac-table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".table-container {\n  overflow: auto;\n}\n.table-container .iso-table tr {\n  vertical-align: middle;\n}\n.table-container .iso-table tr:hover {\n  background-color: var(--bs-table-hover-bg);\n}\n.table-container .iso-table tr td {\n  background-color: transparent;\n}\n\n.drag-icon-container {\n  width: 50px;\n  text-align: center;\n}\n\n.drag-msg {\n  display: none;\n}\n\n.paginator-container {\n  margin-bottom: -0.5rem !important;\n}\n\n.cdk-drag-preview {\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 1rem;\n}\n.cdk-drag-preview td:not(.drag-icon-container) {\n  display: none;\n}\n.cdk-drag-preview td.drag-msg {\n  width: 100%;\n  display: block;\n}\n\n.cdk-drag-placeholder {\n  opacity: 0;\n}\n\n.cdk-drag-animating {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\n\n.drop-list.cdk-drop-list-dragging .drag-box:not(.cdk-drag-placeholder) {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\n\n.drag-handle {\n  cursor: grab;\n}\n\n.link-color {\n  color: var(--bs-blue);\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.sortable {\n  cursor: pointer;\n}\n.sortable:hover {\n  color: var(--bs-blue);\n}\n\n.tiny > :not(caption) > * > * {\n  padding: 0.25rem 0.25rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);